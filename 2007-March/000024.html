<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Ethercatmaster-users] Creating Master Error
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/ethercatmaster-users/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:ethercatmaster-users%40lists.berlios.de?Subject=Re%3A%20%5BEthercatmaster-users%5D%20Creating%20Master%20Error&In-Reply-To=%3CPine.LNX.4.64.0703121720220.7897%40ampere.labo01.fmtc.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000023.html">
   <LINK REL="Next"  HREF="000025.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Ethercatmaster-users] Creating Master Error</H1>
    <B>Klaas Gadeyne</B> 
    <A HREF="mailto:ethercatmaster-users%40lists.berlios.de?Subject=Re%3A%20%5BEthercatmaster-users%5D%20Creating%20Master%20Error&In-Reply-To=%3CPine.LNX.4.64.0703121720220.7897%40ampere.labo01.fmtc.be%3E"
       TITLE="[Ethercatmaster-users] Creating Master Error">klaas.gadeyne at fmtc.be
       </A><BR>
    <I>Mon Mar 12 17:30:27 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000023.html">[Ethercatmaster-users] Creating Master Error
</A></li>
        <LI>Next message: <A HREF="000025.html">[Ethercatmaster-users] Antwort: Re:  Creating Master Error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24">[ date ]</a>
              <a href="thread.html#24">[ thread ]</a>
              <a href="subject.html#24">[ subject ]</a>
              <a href="author.html#24">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 12 Mar 2007, Felix Erkert wrote:
&gt;<i> Hallo,
</I>&gt;<i>
</I>&gt;<i> I have build eCos with EtherCAT Master Library without errors.
</I>
Great!  This means you could build the code for an Altera board with
nios II processor and an untested NIC, under cygwin. 
And if I understood it correctly, apart from some cdl dependencies
which are/were not yet in place, everything went fine?

Given the fact we've only tested this under linux, on i386 with a
realtek NIC, it is truly amazing this compiles out of the box :-)

&gt;<i> Now I&#180;m testing the ethercat example in the test directory.
</I>&gt;<i> I have compiled the example with no errors.  If I start now the
</I>&gt;<i> example on the development board the example stops at the
</I>&gt;<i> &quot;Creating Master&quot; state.
</I>&gt;<i>
</I>&gt;<i> int main()
</I>&gt;<i> {
</I>&gt;<i>  init_slave_db();
</I>&gt;<i>
</I>&gt;<i>  printf(&quot;Creating Master\n&quot;);
</I>&gt;<i> =&gt;EtherCAT_Master * EM = EtherCAT_Master::instance();       ERROR!!!
</I>&gt;<i>  printf(&quot;Getting Slave Handler\n&quot;);
</I>&gt;<i>  EtherCAT_SlaveHandler * sh = EM-&gt;get_slave_handler(0x03e9);
</I>&gt;<i>  ...
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> This is my output:
</I>&gt;<i> This Flash does not contain a valid MAC Address
</I>&gt;<i> Using the default of 0x12:13:14:15:16:17
</I>&gt;<i> Creating Master =&gt; ERROR!!!
</I>&gt;<i>
</I>&gt;<i> Do you know where is the error or what I do wrong.
</I>
I don't recall having ever seen such an error.

While debugging, I would suggest you increase the
CYGNUM_ETHERCATMASTER_LOG_LEVEL variable to 4 in configtool and use your
debugger to see where things go wrong...

BTW, the test will only work partially if some slave is connected to
your altera board (one of the things happening during creation of the
master is scanning the network for slaves), and will only work fully
if the ethercat evaluation board is connected to your master.

Klaas





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000023.html">[Ethercatmaster-users] Creating Master Error
</A></li>
	<LI>Next message: <A HREF="000025.html">[Ethercatmaster-users] Antwort: Re:  Creating Master Error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24">[ date ]</a>
              <a href="thread.html#24">[ thread ]</a>
              <a href="subject.html#24">[ subject ]</a>
              <a href="author.html#24">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/ethercatmaster-users">More information about the Ethercatmaster-users
mailing list</a><br>
</body></html>
