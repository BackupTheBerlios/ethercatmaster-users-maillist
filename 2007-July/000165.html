<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Ethercatmaster-users] netif.h
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/ethercatmaster-users/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:ethercatmaster-users%40lists.berlios.de?Subject=Re%3A%20%5BEthercatmaster-users%5D%20netif.h&In-Reply-To=%3C46A05F2E.3040406%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000164.html">
   <LINK REL="Next"  HREF="000169.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Ethercatmaster-users] netif.h</H1>
    <B>Roland Tollenaar</B> 
    <A HREF="mailto:ethercatmaster-users%40lists.berlios.de?Subject=Re%3A%20%5BEthercatmaster-users%5D%20netif.h&In-Reply-To=%3C46A05F2E.3040406%40gmail.com%3E"
       TITLE="[Ethercatmaster-users] netif.h">rwatollenaar at gmail.com
       </A><BR>
    <I>Fri Jul 20 09:07:26 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000164.html">[Ethercatmaster-users] netif.h
</A></li>
        <LI>Next message: <A HREF="000169.html">[Ethercatmaster-users] Non-persistent output of Beckhoff EL2004 moduels [Was: Re: netif.h]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#165">[ date ]</a>
              <a href="thread.html#165">[ thread ]</a>
              <a href="subject.html#165">[ subject ]</a>
              <a href="author.html#165">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>HI Klaas,

I am not sure the problem that remains is an EML problem. May be a 
fundamental issue with the way Beckhoff/Ethercat devices are 
communicated with.

Essentially there remains one problem (at least that presents itself to 
date, I have for example not yet done scope measurements to measure 
latencies etc).

This problem concerns the digital outputs on module EL2004. In the 
master_test program I write to them in a manner which I would expect the 
outputs to go up and stay up. BUt they do not. They go up very briefly 
once and then go down again. The sending (rxandtx) continues to take 
place (in the master_test program frequently in a while loop) but there 
is no further response from the outputs. The inputs respond perfectly 
and the rxandtx call does not return false (error) so I cannot but 
assume that the communication is perfect. So why do the outputs only 
react once every time the program runs?

I have checked the values of the buffer before sending in the loop but 
these remain correct (no different than when they are first sent and do 
make the leds react).

The bits that go up (in the flash) are exactly the bits that I want to 
go on. I have tried different combinations and this is correct. So the 
flash is not some fluke, it really is a correct response to the message 
that is placed in the frame.

Tom says that the txandrx call must be placed in a separate thread, I 
have not had time to try this yet but I don;t see the fundamental 
difference. Even in a thread I will have to repetitively call the 
rxandtx and at best, if the outputs do not stay up, they will flash on 
and off.

I have taken up the issue with ETG and they have given replies that I 
cannot quite respond to. The questions they ask and the tests they 
expect me to perform go beyond my current expertise. :-/

I will post those email on the list, perhaps you can make something out 
of it.

Please tell me what you think.

Regards,

Roland

Klaas Gadeyne wrote:
&gt;<i> On Thu, 19 Jul 2007, Roland Tollenaar wrote:
</I>&gt;&gt;<i> Hi Klaas,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cannot tell you how glad your holidays are over. I'll forgive you if you
</I>&gt;&gt;<i> don;t share my sentiments ;)
</I>&gt;<i> 
</I>&gt;<i> :-]
</I>&gt;<i> 
</I>&gt;&gt;<i> You may be right about the src/ installed includes. I'll have to check
</I>&gt;&gt;<i> which one I used. But certainly not one for the eCos OS. Of that I am 
</I>&gt;&gt;<i> sure.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you have a chance to look at the problem we are having with the
</I>&gt;&gt;<i> outputs that don't want to stay up. Its the last problem before the EML
</I>&gt;&gt;<i> connection is working 100%. I hope those aren't famous lasts words.....
</I>&gt;<i> 
</I>&gt;<i> Can you (in a new separate post, or link to a previous post), briefly
</I>&gt;<i> restate the issues you fixed and the issues that remain?
</I>&gt;<i> I've seen a ton of (rather long) mails pass by during my holidays, I 
</I>&gt;<i> took the
</I>&gt;<i> liberty to delete those EML mails that had been answered by tom.  This
</I>&gt;<i> said, Tom has far more experience than I with the modules you are
</I>&gt;<i> using, so I guess he will provide better answers than I do.
</I>&gt;<i> 
</I>&gt;<i> regards,
</I>&gt;<i> 
</I>&gt;<i> Klaas
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000164.html">[Ethercatmaster-users] netif.h
</A></li>
	<LI>Next message: <A HREF="000169.html">[Ethercatmaster-users] Non-persistent output of Beckhoff EL2004 moduels [Was: Re: netif.h]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#165">[ date ]</a>
              <a href="thread.html#165">[ thread ]</a>
              <a href="subject.html#165">[ subject ]</a>
              <a href="author.html#165">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/ethercatmaster-users">More information about the Ethercatmaster-users
mailing list</a><br>
</body></html>
