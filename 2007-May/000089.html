<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Ethercatmaster-users] library linking and testing
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/ethercatmaster-users/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:ethercatmaster-users%40lists.berlios.de?Subject=Re%3A%20%5BEthercatmaster-users%5D%20library%20linking%20and%20testing&In-Reply-To=%3CPine.LNX.4.64.0705211613270.32430%40ampere.labo01.fmtc.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000088.html">
   <LINK REL="Next"  HREF="000085.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Ethercatmaster-users] library linking and testing</H1>
    <B>Klaas Gadeyne</B> 
    <A HREF="mailto:ethercatmaster-users%40lists.berlios.de?Subject=Re%3A%20%5BEthercatmaster-users%5D%20library%20linking%20and%20testing&In-Reply-To=%3CPine.LNX.4.64.0705211613270.32430%40ampere.labo01.fmtc.be%3E"
       TITLE="[Ethercatmaster-users] library linking and testing">klaas.gadeyne at fmtc.be
       </A><BR>
    <I>Mon May 21 16:17:03 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000088.html">[Ethercatmaster-users] library linking and testing
</A></li>
        <LI>Next message: <A HREF="000085.html">[Ethercatmaster-users] Beckhoff hardware and EML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89">[ date ]</a>
              <a href="thread.html#89">[ thread ]</a>
              <a href="subject.html#89">[ subject ]</a>
              <a href="author.html#89">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 21 May 2007, roland Tollenaar wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;&gt;<i> how about running &quot;make install&quot;?
</I>&gt;<i> Ah, perhaps update the README in the package with this wisdom. I
</I>&gt;<i> simply put it in
</I>&gt;<i> /usr/local/eml-trunk/build_rtnet/src. Which is kind of where it ends
</I>&gt;<i> up in if one unpacks in /usr/local.
</I>&gt;<i>
</I>&gt;<i> Then ldconfig &lt;above path&gt;.
</I>
ldconfig is only necessary if you're building a dynamic library and
changed the default installation path (but this is out of scope on eml-users)

[...]
&gt;&gt;<i> Then you cannot really test it ATM.  We have no virtual slave
</I>&gt;&gt;<i> available.
</I>&gt;<i>
</I>&gt;<i> Pity. Just to get some feedback (I am still absolutely out of touch
</I>&gt;<i> with this ethercat everything helps)
</I>&gt;<i>
</I>&gt;<i> I start rtnet in loopback mode shich seems to be successful. Then run
</I>&gt;<i> the master_test.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/ethercatmaster-users">root at slax</A>:/usr/local/eml-trunk/build_rtnet/tests/rtnet# ./master_test rteth0
</I>&gt;<i> Socket created: socket id: 896
</I>&gt;<i> Got interface: index: 0
</I>&gt;<i> Attach netif
</I>&gt;<i>
</I>&gt;<i> Master initializing
</I>&gt;<i>
</I>&gt;<i> low_level_txandrx: failed: MAX_TRIES_TX: Giving up
</I>&gt;<i> DLL::txandrx() Error
</I>&gt;<i> Error sending counter frame
</I>&gt;<i> Something went wrong while scanning network
</I>&gt;<i> EtherCAT_AL:: Can't init network
</I>&gt;<i> Getting slave handler
</I>&gt;<i> EtherCAT_AL: No such slave, returning NULL
</I>&gt;<i> Setting EK1100 to OP STATE
</I>&gt;<i> Segmentation fault
</I>&gt;<i>
</I>&gt;<i> Does this look like normal behavior given nothing attached to the
</I>&gt;<i> network adaptor?
</I>&gt;<i> I assume the program Master_test IS finding the library lib_eml.so though.
</I>
Yes, it is.  This seems likes Tom forgot to exit the program after
initializing the network went wrong.  What you're actually see is the
fact that no slave responds to the master, so the AL can't init the
network.  After that, it should abort further effort.
Without looking at the code, I suppose getting the slave handler now
returns a null pointer, with the above consequence :-)

Klaas

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000088.html">[Ethercatmaster-users] library linking and testing
</A></li>
	<LI>Next message: <A HREF="000085.html">[Ethercatmaster-users] Beckhoff hardware and EML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#89">[ date ]</a>
              <a href="thread.html#89">[ thread ]</a>
              <a href="subject.html#89">[ subject ]</a>
              <a href="author.html#89">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/ethercatmaster-users">More information about the Ethercatmaster-users
mailing list</a><br>
</body></html>
